---
// Chart component wrapper for reusability
export interface Props {
  id: string;
  title: string;
  caption?: string;
  chartType?: 'doughnut' | 'bar' | 'line';
  className?: string;
}

const { id, title, caption, chartType = 'bar', className = '' } = Astro.props;
---

<div class={`group bg-gradient-to-br from-white to-gray-50/50 dark:from-gray-800 dark:to-gray-900/50 rounded-2xl shadow-lg hover:shadow-2xl p-6 md:p-8 transition-all duration-500 hover:scale-102 animate-on-scroll border border-gray-200/30 dark:border-gray-700/30 backdrop-blur-sm relative overflow-hidden ${className}`}>
  <!-- Background pattern -->
  <div class="absolute inset-0 opacity-5 group-hover:opacity-10 transition-opacity duration-500">
    <div class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-blue-500 to-purple-500 rounded-full -translate-y-16 translate-x-16"></div>
    <div class="absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-green-500 to-blue-500 rounded-full translate-y-12 -translate-x-12"></div>
  </div>
  
  <!-- Header -->
  <div class="relative z-10 mb-6">
    <h3 class="text-2xl md:text-3xl font-bold text-[#0073E6] dark:text-blue-400 mb-3 group-hover:text-[#004080] dark:group-hover:text-blue-300 transition-colors duration-300" data-lang-key={title}></h3>
    {caption && (
      <p class="text-gray-600 dark:text-gray-400 text-sm md:text-base group-hover:text-gray-700 dark:group-hover:text-gray-300 transition-colors duration-300" data-lang-key={caption}></p>
    )}
  </div>
  
  <!-- Chart container with enhanced styling -->
  <div class="chart-container relative">
    <div class="absolute inset-0 bg-gradient-to-br from-blue-50/50 to-purple-50/50 dark:from-gray-700/20 dark:to-gray-600/20 rounded-xl group-hover:from-blue-100/70 dark:group-hover:from-gray-600/30 transition-all duration-500"></div>
    <canvas id={id} class="relative z-10"></canvas>
  </div>
  
  <slot />
  
  <!-- Decorative elements -->
  <div class="absolute top-4 right-4 opacity-20 group-hover:opacity-40 transition-opacity duration-500">
    <div class="w-3 h-3 bg-blue-500 rounded-full"></div>
  </div>
  <div class="absolute bottom-4 left-4 opacity-15 group-hover:opacity-30 transition-opacity duration-500">
    <div class="w-2 h-2 bg-purple-500 rounded-full"></div>
  </div>
</div>
