---
// Performance metric card, header-style tech look
export interface Props {
  title: string;
  value: string;
  description: string;
  valueColor?: string;
}

const { title, description, value, valueColor = "text-cyan-400" } = Astro.props;
---

<div class="w-full relative group bg-slate-900/95 backdrop-blur-xl border border-cyan-500/40 rounded-xl lg:rounded-xl xl:rounded-2xl shadow-2xl hover:shadow-cyan-500/30 p-4 sm:p-5 lg:p-5 xl:p-6 text-center flex flex-col justify-center items-center transition-all duration-500 hover:scale-[1.02] lg:hover:scale-[1.01] hover:border-cyan-400/60 overflow-hidden min-h-[160px] lg:min-h-[180px] xl:min-h-[200px]">
  <!-- Enhanced tech grid background optimized for stacking -->
  <div class="absolute inset-0 opacity-12 lg:opacity-15 xl:opacity-18 pointer-events-none z-0">
    <div class="absolute inset-0 bg-[radial-gradient(circle,rgba(6,182,212,0.12)_1px,transparent_1px)] bg-[size:18px_18px] lg:bg-[size:20px_20px] xl:bg-[size:24px_24px]"></div>
    <div class="absolute inset-0 bg-gradient-to-br from-cyan-500/6 via-transparent to-purple-500/6"></div>
    <div class="absolute top-0 right-0 w-16 h-16 lg:w-24 lg:h-24 xl:w-32 xl:h-32 bg-gradient-to-bl from-cyan-400/15 to-transparent rounded-full blur-2xl lg:blur-3xl"></div>
  </div>

  <!-- Main content -->
  <div class="relative z-10 flex flex-col items-center">
    <!-- Title with enhanced styling optimized for stacking -->
    <div class="mb-2 lg:mb-3 xl:mb-4 text-center">
      <h3 class="text-lg sm:text-xl lg:text-xl xl:text-2xl font-black bg-gradient-to-r from-cyan-300 via-blue-400 to-purple-400 bg-clip-text text-transparent leading-tight tracking-tight select-none" data-lang-key={title}></h3>
      <div class="w-10 lg:w-12 xl:w-16 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-500 mx-auto mt-1.5 lg:mt-2 rounded-full"></div>
    </div>
    
    <!-- Value with enhanced presentation and battery focus - compact for stacking -->
    <div class="mb-2 lg:mb-3 xl:mb-4 relative">
      <div class="absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400/12 to-transparent blur-xl lg:blur-2xl"></div>
      <div class="absolute inset-0 bg-gradient-to-r from-cyan-400/6 via-blue-400/8 to-purple-400/6 rounded-lg lg:rounded-xl blur-sm lg:blur-lg"></div>
      <p class={`relative text-2xl sm:text-3xl lg:text-4xl xl:text-5xl font-black ${valueColor} select-none group-hover:scale-105 transition-all duration-500 metric-highlight`}>{value}</p>
      
      <!-- Battery indicator for relevant metrics - compact -->
      {(title.includes('Battery') || title.includes('Batteria') || title.includes('Standard')) && (
        <div class="absolute -top-0.5 -right-0.5 lg:-top-1 lg:-right-1 xl:-top-1.5 xl:-right-1.5">
          <div class="w-3 h-3 lg:w-4 lg:h-4 xl:w-5 xl:h-5 bg-gradient-to-br from-green-400 to-emerald-500 rounded-full flex items-center justify-center shadow-md shadow-green-400/50">
            <span class="text-xs">ðŸ”‹</span>
          </div>
        </div>
      )}
    </div>
    
    <!-- Description with better typography and battery context - compact -->
    <div class="text-center">
      <p class="text-xs lg:text-sm xl:text-base text-slate-200 leading-relaxed font-medium mb-1" data-lang-key={description}></p>
      
      <!-- Additional context for battery-related metrics - compact -->
      {(description.includes('500mAh') || description.includes('mW') || description.includes('hours') || description.includes('ore')) && (
        <div class="inline-flex items-center gap-1 px-2 py-0.5 lg:px-2 lg:py-1 xl:px-3 xl:py-1 bg-slate-800/60 rounded-full border border-cyan-500/30 mt-1">
          <div class="w-1 h-1 lg:w-1.5 lg:h-1.5 bg-cyan-400 rounded-full animate-pulse"></div>
          <span class="text-xs text-cyan-300 font-mono">Smart Glasses Standard</span>
        </div>
      )}
    </div>
  </div>

  <!-- Enhanced progress bar with battery charging effect - compact -->
  <div class="absolute bottom-0 left-0 w-full h-1.5 lg:h-2 bg-slate-800/80 rounded-b-xl lg:rounded-b-xl xl:rounded-b-2xl overflow-hidden">
    <div class="h-full bg-gradient-to-r from-cyan-400 via-blue-500 to-purple-500 w-0 group-hover:w-full transition-all duration-1200 ease-out shadow-lg relative">
      <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent animate-pulse"></div>
    </div>
  </div>

  <!-- Enhanced corner accents with battery theme - compact -->
  <div class="absolute top-2 right-2 lg:top-3 lg:right-3 xl:top-4 xl:right-4 opacity-30 group-hover:opacity-60 transition-all duration-500 z-10">
    <div class="w-1.5 h-1.5 lg:w-2 lg:h-2 xl:w-3 xl:h-3 bg-gradient-to-br from-cyan-400 to-blue-500 rounded-full shadow-md shadow-cyan-400/50 animate-pulse"></div>
  </div>
  <div class="absolute bottom-4 left-2 lg:bottom-5 lg:left-3 xl:bottom-6 xl:left-4 opacity-20 group-hover:opacity-40 transition-all duration-500 z-10">
    <div class="w-1 h-1 lg:w-1.5 lg:h-1.5 xl:w-2 xl:h-2 bg-gradient-to-br from-purple-400 to-pink-500 rounded-full shadow-md shadow-purple-400/50"></div>
  </div>
  
  <!-- Enhanced border glow with energy theme -->
  <div class="absolute inset-0 rounded-xl lg:rounded-xl xl:rounded-2xl border border-transparent group-hover:border-cyan-300/30 group-hover:shadow-cyan-300/15 transition-all duration-500 pointer-events-none"></div>
  
  <!-- Subtle energy ripple effect on hover - compact -->
  <div class="absolute inset-0 rounded-xl lg:rounded-xl xl:rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none">
    <div class="absolute inset-0 bg-gradient-to-r from-transparent via-cyan-400/2 lg:via-cyan-400/3 to-transparent animate-pulse"></div>
  </div>
</div>
